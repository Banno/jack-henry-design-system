import { Meta } from '@storybook/blocks';

<Meta title="Getting Started/Typography" />

# Typography

The Jack Henry Design System uses the variable fonts **Roboto Flex** as its main font and **Roboto Mono** for monospace text (see [Typography](https://jackhenry.design/pages/foundations/typography/) details).
We use variable fonts because they offer increased flexibility and customization, while also reducing the number of font files required to download.

## Using our fonts

We strongly encourage self-hosting fonts rather than relying on google fonts' CDN. 
Not only is self-hosting fonts beneficial for performance, it also mitigates [tracking and privacy concerns](https://thehackernews.com/2022/01/german-court-rules-websites-embedding.html) exposed via the Google Fonts CDN. 
Self hosting may also support compliance with the European Union's General Data Protection Regulation (GDPR) privacy and security law.

A common concern with self-hosted fonts is the potential for a flash of invisible text (FOIT) in the event that the font is slow to load.
 This is bad user experience and to address it we opted for flash of unstyled text (FOUT) which permits a fallback on system font and will 
 swap if/when styled font is ready. We use the css property `font-display: swap` to handle this situation.

### Importing the fonts from jh-core

The easiest way is to import the `fonts.css` file from jh-core with all the required font declarations into your main css or js file.

```javascript
@import '@jack-henry/jh-core/platforms/web/assets/fonts/fonts.css'; 
```

If you are using a bundler like Webpack5 or Vite, make sure to have the appropriate 
[Loaders](https://webpack.js.org/guides/asset-management/#loading-css) and Asset management setup for [Webpack 5](https://webpack.js.org/guides/asset-management/#loading-fonts) or [Vite](https://vitejs.dev/guide/assets.html#static-asset-handling), 
to ensure that the bundler can handle the css and font imports. 



### Self-hosting the fonts in your repo

If you have a custom setup or are not using a bundler in your project, the best way to self-host fonts is to download 
the font and css files from our [Github Repo](https://github.com/Banno/jack-henry-design-system/tree/main/packages/jh-core/platforms/web/assets/fonts) and store them in the appropriate folder in your project.
If the fonts are hosted on  a different domain than the application, there may be CORS issues.
You will need to add `Access-Control-Allow-Origin` header to the response from your server. 

To import the fonts.css file into the `<head>` of your main HTML page, use a link: 

```html
<link rel="stylesheet" type="text/css" href="./src/fonts/fonts.css">
```

Or, a CSS import:

```html
<style>
    @import url("./src/fonts/fonts.css");
</style>
```

### Using Google Fonts

While we strongly encourage self-hosting fonts, you can opt to access Google Fonts via CDN in your main HTML 
page as either a link:
```html
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:wght@100;200;300;400;500;600;700;800;900;1000&family=Roboto+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
```

Or, as a CSS import:

```css
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto+Flex:wght@100;200;300;400;500;600;700;800;900;1000&family=Roboto+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap');
</style>
```

### Using custom fonts

To set the font-family for all JH components to your custom font, set the token `--jh-font-family-primary` to your desired font in the `:root` of your main stylesheet.
Note: this will not affect elements that do not have a css font property set via design system tokens (ex. an `<h1>` on your home page).

```css
// in main.css
:root {
  --jh-font-family-primary: 'Custom Font';
}
```

To set the font-family for all or selected elements that are not part of the JH design system, set the `font-family` property to your custom font in your main stylesheet.

```css
// in main.css
:root {
  font-family: 'Custom Font';
}
h1 {
  font-family: 'Another Custom Font';
}
```