{/*
SPDX-FileCopyrightText: 2025 Jack Henry

SPDX-License-Identifier: Apache-2.0
*/}

import {Meta, ArgTypes} from '@storybook/blocks';
import * as stories from './switch.stories.js';

<Meta title="Components/Switch" of={stories} />

# Switch

[Guidelines](https://jackhenry.design/pages/components/switch/)

<hr />

A switch or toggle button is used to make an on/off selection that takes effect immediately on the page.
It is not meant to be used in forms.

## Usage

Import the `<jh-switch>` component.

```javascript
import '@jack-henry/jh-elements/components/switch/switch.js';
```

To use `jh-switch`, set any desired properties.

```html
<jh-switch></jh-switch>
```

## Accessibility

This component satisfies [WCAG 2.2](https://www.w3.org/TR/WCAG22/) AA success criteria. 
The following success criteria are of concern:

- [WCAG 1.3.1 Information and Relationships](https://www.w3.org/WAI/WCAG22/Understanding/info-and-relationships.html): 
Information, structure, and relationships conveyed through presentation can be programmatically determined 
or are available in text.
- [WCAG 1.4.1 Use of Color](https://www.w3.org/WAI/WCAG22/Understanding/use-of-color): Color is not used as the only visual means of conveying information, indicating an action, prompting a response, or distinguishing a visual element.
- [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html): Except for captions and images of text, text can be resized without assistive technology up to 200 percent without loss of content or functionality.
- [WCAG 2.4.7 Focus Visible](https://www.w3.org/WAI/WCAG22/Understanding/focus-visible): Any keyboard operable user interface
 has a mode of operation where the keyboard focus indicator is visible.
- [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html): The size of the target for pointer inputs is at least 24 by 24 CSS pixels, except where:
  - Spacing: Undersized targets (those less than 24 by 24 CSS pixels) are positioned so that if a 24 CSS pixel diameter circle is centered on the bounding box of each, the circles do not intersect another target or the circle for another undersized target;
  - Equivalent: The function can be achieved through a different control on the same page that meets this criterion;
  - Inline: The target is in a sentence or its size is otherwise constrained by the line-height of non-target text;
  - User agent control: The size of the target is determined by the user agent and is not modified by the author;
  - Essential: A particular presentation of the target is essential or is legally required for the information being conveyed.
- [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html): For all user interface
 components (including but not limited to: form elements, links and components generated by scripts), the name and 
 role can be programmatically determined; states, properties, and values that can be set by the user can be programmatically set;
  and notification of changes to these items is available to user agents, including assistive technologies.

### What we provide

- To satisfy [WCAG 1.3.1 Information and Relationships](https://www.w3.org/WAI/WCAG22/Understanding/info-and-relationships.html),
 `type=button` and`aria-pressed=true/false` are used to convey that the button is a switch (toggle button) rather than a standard button.
- To satisfy [WCAG 1.4.1 Use of Color](https://www.w3.org/WAI/WCAG22/Understanding/use-of-color), 
the thumb moves to the left and right to signify the off or on state of the switch.
- To satisfy [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html), Switch can be resized without assistive technology up to 200 percent without loss of content or functionality.
- To satisfy [WCAG 2.4.7 Focus Visible](https://www.w3.org/WAI/WCAG22/Understanding/focus-visible), 
we provide focus visible styles to help users determine which element has keyboard focus.
- To satisfy [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html), 
the target size for pointer inputs is at least 24 by 24 pixels for users to easily activate them.
- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html):
  - `aria-pressed` communicates the state of the switch (selected or not) and when the state is changed.
  - `label` is automatically associated with the switch.
  - `aria-describedby` is automatically set to connect the helper text to the switch.

### Author Guidance

- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), 
use the `accessible-label` attribute to set an `aria-label` where a visible label cannot be used.
- When using the `disabled` property, the button cannot be reached via keyboard navigation and cannot be interacted with
 via mouse. The button may also be undiscoverable to users using screen readers. For instances in which a disabled button 
 should remain discoverable by assistive technology, consider setting `accessible-disabled="true"`, which will set 
 an `aria-disabled="true"` attribute on the button. This will allow the button to remain perceivable to screen reader 
 users while also remaining inoperable.

## Component API

For boolean attributes, true indicates that the attribute has been set without a value: `<jh-switch disabled></jh-switch>`. 
While false indicates the attribute does not exist in the DOM: `<jh-switch></jh-switch>`.

<ArgTypes />

## Feedback

Have an idea that will improve this component or have an issue to report? Let us know by submitting an issue on [GitHub](https://github.com/Banno/jack-henry-design-system/issues).

Engage with the community on our [GitHub discussion board](https://github.com/Banno/jack-henry-design-system/discussions).