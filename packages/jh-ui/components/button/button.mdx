import {Meta, ArgTypes} from '@storybook/blocks';
import * as stories from './button.stories.js';

<Meta title="Components/Button" of={stories} />

# Button

[Guidelines](https://jackhenry.design/pages/components/button/)

<hr />

Buttons enable a user to initiate a specific action.

## Usage

Import the `<jh-button>` component.

```javascript
import '@jack-henry/jh-ui/components/button/button.js';
```

To use `jh-button`, set properties and slot icon within corresponding slot.

```html
<jh-button icon-position="after">
  <jh-icon-ellipsis slot="jh-button-icon"></jh-icon-ellipsis>
</jh-button>
```

## Dependencies
The button component makes use of both required compositional and suggested content related dependencies.

1. Composition - the following required dependencies are automatically imported:

- `<jh-progress>`. [Progress component documentation](/docs/components-progress--docs).

2. Content -  the following suggested dependencies should be imported when needed: 

- `<jh-icon>`. [Iconography documentation](/docs/iconography-overview--docs).

## Link buttons

Buttons will act as a link if a hyperlink is set via the `href` property.

- When the `href` property is set, assistive technologies will recognize the button as a link and announce it as such.
- Link buttons can only be activated via the 'Enter' key.
- Set the `target` property to specify where to display the linked URL.

## Pending state

Set a pending state to indicate a process is underway, such as saving a record or submitting a form. The pending state will replace the button’s contents with a progress indicator and retain its width.

- When in a pending state, a button cannot be navigated to nor activated by a mouse or keyboard.
- If the pending state of a button reflects the changing of a live-region, and the announcement of those changes should wait until completed, set `aria-busy=“true”` to the region until the process is complete. Once completed, set `aria-busy="false"`.

## Accessibility

This component satisfies [WCAG 2.2](https://www.w3.org/TR/WCAG22/) AA success criteria. The following success criteria are of concern:

- [WCAG 1.3.1 Information and Relationships](https://www.w3.org/WAI/WCAG22/Understanding/info-and-relationships.html): Information, structure, and relationships conveyed through presentation can be programmatically determined or are available in text.
- [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html): Except for captions and images of text, text can be resized without assistive technology up to 200 percent without loss of content or functionality.
- [WCAG 2.4.7 Focus Visible](https://www.w3.org/WAI/WCAG22/Understanding/focus-visible): Any keyboard operable user interface has a mode of operation where the keyboard focus indicator is visible.
- [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html): The size of the target for pointer inputs is at least 24 by 24 CSS pixels, except where:
  - Spacing: Undersized targets (those less than 24 by 24 CSS pixels) are positioned so that if a 24 CSS pixel diameter circle is centered on the bounding box of each, the circles do not intersect another target or the circle for another undersized target;
  - Equivalent: The function can be achieved through a different control on the same page that meets this criterion;
  - Inline: The target is in a sentence or its size is otherwise constrained by the line-height of non-target text;
  - User agent control: The size of the target is determined by the user agent and is not modified by the author;
  - Essential: A particular presentation of the target is essential or is legally required for the information being conveyed.
- [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html): For all user interface components (including but not limited to: form elements, links and components generated by scripts), the name and role can be programmatically determined; states, properties, and values that can be set by the user can be programmatically set; and notification of changes to these items is available to user agents, including assistive technologies.

### What we provide

- To satisfy [WCAG 1.3.1 Information and Relationships](https://www.w3.org/WAI/WCAG22/Understanding/info-and-relationships.html), the `type='button'` property is set by default to prevent browser from attempting to submit form information when activated.
- To satisfy [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html), Button can be resized without assistive technology up to 200 percent without loss of content or functionality.
- To satisfy [WCAG 2.4.7 Focus Visible](https://www.w3.org/WAI/WCAG22/Understanding/focus-visible), we provide focus visible styles to help users determine which element has keyboard focus.
- To satisfy [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html), the target size for pointer inputs is at least 24 by 24 pixels for users to easily activate them.

### Author Guidance

- To satisfy [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html), when using custom size tokens, ensure a minimum target size of 24 by 24 pixels is maintained.
- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), use the `accessible-label` attribute to set an `aria-label` where a visible label cannot be used.
- When using the `disabled` property, the button cannot be reached via keyboard navigation and cannot be interacted with via mouse. The button may also be undiscoverable to users using screen readers. For instances in which a disabled button should remain discoverable by assistive technology, consider setting `accessible-disabled="true"`, which will set an `aria-disabled="true"` attribute on the button. This will allow the button to remain perceivable to screen reader users while also remaining inoperable.

## Component API

For boolean attributes, true indicates that the attribute has been set without a value: `<jh-button disabled></jh-button>`. While false indicates the attribute does not exist in the DOM: `<jh-button></jh-button>`.

<ArgTypes />

## Feedback

Have an idea that will improve this component or have an issue to report? Let us know by submitting an issue on [GitHub](#).

Engage with the community on our [GitHub discussion board](https://github.com/Banno/jack-henry-design-system/discussions).
