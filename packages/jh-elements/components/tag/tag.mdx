{/*
SPDX-FileCopyrightText: 2025 Jack Henry

SPDX-License-Identifier: Apache-2.0
*/}

import { Meta, ArgTypes } from '@storybook/blocks';
import * as stories from './tag.stories.js';

<Meta title="Components/Tag" of={stories} />

# Tag

[Guidelines](https://jackhenry.design/v2/components/tag/)

<hr />

A tag contains a string of text on a colorful background and is used to categorize, describe or otherwise identify elements on the page. 

## Usage

Import the `<jh-tag>` component:

```javascript
import '@jack-henry/jh-elements/components/tag/tag.js';
```

To use `<jh-tag>`: 
```html
<jh-tag label="label" dismissible></jh-tag>
```

## Types of tags

- **informational tag:** use `jh-tag` as is for a tag that provides information about an item on the page but is not interactive.
- **interactive tag:** set `tabindex` on the component for a tag that has interactive capabilities and states.
- **link tag:** set the `href` property for a tag that contains a link and has interactive states. The `label` property is required on link tags.

Note: Do not set `tabindex` and `href` at the same time. In case both properties are set, `href` will take precedence and the tag will be a link tag.

## Events
 
- When the dismiss button is activated on dismissible tags, a custom event `jh-dismiss` is dispatched from the component. The corresponding native `click` event is suppressed to avoid confusion with clicks originating from the actual tag component.
- Authors can decide whether to handle the logic of the tag dismissal themselves (default), or add the `remove-on-dismiss` attribute to automatically remove tag from the DOM when `jh-dismiss` is fired.


## Dependencies

The tag component makes use of both required compositional and suggested content related dependencies.

1. Composition - the following required dependencies are automatically imported:

- `<jh-button>`. [Button component documentation](/docs/components-button--docs).
- `<jh-icon-xmark>` . [Iconography documentation](/docs/iconography-overview--docs).
- `<jh-tooltip>`. [Tooltip component documentation](/docs/components-tooltip--docs).

2. Content -  the following suggested dependencies should be imported when needed: 

- `<jh-icon>`. [Iconography documentation](/docs/iconography-overview--docs).

## Accessibility

This component satisfies [WCAG 2.2](https://www.w3.org/TR/WCAG22/) AA success criteria. 
The following success criteria are of concern:

- [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html): Except for captions and images of text, text can be resized without assistive technology up to 200 percent without loss of content or functionality.
- [WCAG 2.1.1 Keyboard](https://www.w3.org/WAI/WCAG22/Understanding/keyboard.html):
  All functionality of the content is operable through a keyboard interface without requiring specific timings for
   individual keystrokes, except where the underlying function requires input that depends on the path of the user's 
   movement and not just the endpoints.
- [WCAG 2.4.7 Focus Visible](https://www.w3.org/WAI/WCAG22/Understanding/focus-visible): Any keyboard operable user interface has a mode of operation where the keyboard focus indicator is visible.
- [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html): The size of the target for pointer inputs is at least 24 by 24 CSS pixels, except where:
  - Spacing: Undersized targets (those less than 24 by 24 CSS pixels) are positioned so that if a 24 CSS pixel diameter circle is centered on the bounding box of each, the circles do not intersect another target or the circle for another undersized target;
  - Equivalent: The function can be achieved through a different control on the same page that meets this criterion;
  - Inline: The target is in a sentence or its size is otherwise constrained by the line-height of non-target text;
  - User agent control: The size of the target is determined by the user agent and is not modified by the author;
  - Essential: A particular presentation of the target is essential or is legally required for the information being conveyed.
- [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html): For all user interface components (including but not limited to: form elements, links and components generated by scripts), the name and role can be programmatically determined; states, properties, and values that can be set by the user can be programmatically set; and notification of changes to these items is available to user agents, including assistive technologies.

### What we provide


- To satisfy [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html), 
Tag can be resized without assistive technology up to 200 percent without loss of content or functionality.
- To satisfy [WCAG 2.1.1 Keyboard](https://www.w3.org/WAI/WCAG22/Understanding/keyboard.html), the dismiss button within the tag component is keyboard operable and users will be able to use the `Enter` and `Space` key to activate the button. An interactive tag is operable with `Enter` and `Space`, while a link tag is operable with the `Enter` key.
- To satisfy [WCAG 2.4.7 Focus Visible](https://www.w3.org/WAI/WCAG22/Understanding/focus-visible), we provide focus visible styles to help users determine which element has keyboard focus.
- To satisfy [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html), the target size of the dismiss button is at least 24 by 24 pixels for users to easily activate it.

### Author Guidance

- To satisfy [WCAG 2.5.8 Target Size (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/target-size-minimum.html) when using small size tags without a `<jh-tag-group>`, authors need to provide 2 pixels of space around tags to meet this requirement.
- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), authors should set a `dismiss-button-accessible-label` and a `tooltip-label` to provide context when using the icon-only dismiss button.
- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), authors should provide the most adequate role when using interactive tags, such as `button`, `checkbox`, `radio`.
- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), authors should avoid using tags without labels. If doing so, authors should provide an `aria-label` on the tag.


## Component API

For boolean attributes, true indicates that the attribute has been set without a value: `<jh-tag dismissible></jh-tag>`. While false indicates the attribute does not exist in the DOM: `<jh-tag></jh-tag>`.

<ArgTypes />

## Feedback

Have an idea that will improve this component or have an issue to report? Let us know by submitting 
an issue on [GitHub](https://github.com/Banno/jack-henry-design-system/issues).

Engage with the community on our [GitHub discussion board](https://github.com/Banno/jack-henry-design-system/discussions).