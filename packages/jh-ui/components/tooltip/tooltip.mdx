{/*
SPDX-FileCopyrightText: 2025 Jack Henry

SPDX-License-Identifier: Apache-2.0
*/}

import {Meta, ArgTypes} from '@storybook/blocks';
import * as stories from './tooltip.stories.js';

<Meta title="Components/Tooltip" of={stories} />

# Tooltip

[Guidelines](https://jackhenry.design/pages/components/tooltip/)

<hr />

Tooltips are floating components that appears when a user hovers or focuses onto an originating element 
such as a button, icon or link. They display additional information about the originating element which is not 
critical in nature.

## Usage

Import the `<jh-tooltip>` component:

```javascript
import '@jack-henry/jh-ui/components/tooltip/tooltip.js';
```

To use `<jh-tooltip>`, place the originating element in the component's default slot.

```html
<jh-tooltip position="top-center" label="Tooltip">
  <button>Button</button>
</jh-tooltip>
```

## Behaviors

- Only the first element placed in the default slot will be used as originating the element for the tooltip.
- By default tooltips flip to the opposite side when they reach the edge of the viewport. 
The attribute `flip-disabled` can be set to disable this feature.

## Accessibility

This component satisfies [WCAG 2.2](https://www.w3.org/TR/WCAG22/) AA success criteria. 
The following success criteria are of concern:

- [WCAG 1.3.1 Information and Relationships](https://www.w3.org/WAI/WCAG22/Understanding/info-and-relationships.html): 
Information, structure, and relationships conveyed through presentation can be programmatically determined or are available in text.
- [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html): Except for captions and images of text, text can be resized without assistive technology up to 200 percent without loss of content or functionality.
- [WCAG 1.4.13 Content on Hover or Focus](https://www.w3.org/WAI/WCAG22/Understanding/content-on-hover-or-focus): Where receiving and then removing 
pointer hover or keyboard focus triggers additional content to become visible and then hidden, the following are true:
  - A mechanism is available to dismiss the additional content without moving pointer hover or keyboard focus, unless the additional content communicates an input error or does not obscure or replace other content;
  - If pointer hover can trigger the additional content, then the pointer can be moved over the additional content without the additional content disappearing;
  - The additional content remains visible until the hover or focus trigger is removed, the user dismisses it, or its information is no longer valid.
- [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html): For all user interface components (including but not limited to: form elements, 
links and components generated by scripts), the name and role can be programmatically determined; states, properties,
 and values that can be set by the user can be programmatically set; and notification of changes to these items is available 
 to user agents, including assistive technologies.

### What we provide

- To satisfy [WCAG 1.3.1 Information and Relationships](https://www.w3.org/WAI/WCAG22/Understanding/info-and-relationships.html) and 
[WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), 
the tooltip's `role` is set to `tooltip`.
- To satisfy [WCAG 1.4.4 Resize Text](https://www.w3.org/WAI/WCAG22/Understanding/resize-text.html), Tooltip can be resized without assistive technology up to 200 percent without loss of content or functionality.
- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), the `aria-describedby` property is automatically set on the originating element and the `id` property 
is automatically set on the tooltip to establish the relationship between the tooltip and the originating element.
- To satisfy [WCAG 1.4.13 Content on Hover or Focus](https://www.w3.org/WAI/WCAG22/Understanding/content-on-hover-or-focus)
  - The tooltip is displayed on hover or focus on the originiating element.
  - The tooltip itself is hoverable and will close once the mouse leaves both the tooltip and originating element.
  - Keyboard support is provided to dismiss the tooltip using the `Escape` or `Tab` keys when the element has been focused 
with the tab key.
- To satisfy [WCAG 4.1.2 Name, Role, Value](https://www.w3.org/WAI/WCAG22/Understanding/name-role-value.html), 
the `aria-hidden` attribute is used to show and hide the tooltip from screen readers.

## Component API

For boolean attributes, true indicates that the attribute has been set without a value: `<jh-tooltip flip-disabled></jh-tooltip>`. While false indicates the attribute does not exist in the DOM: `<jh-tooltip></jh-tooltip>`.

 <ArgTypes />

## Feedback

Have an idea that will improve this component or have an issue to report? Let us know by submitting 
an issue on [GitHub](https://github.com/Banno/jack-henry-design-system/issues).

Engage with the community on our [GitHub discussion board](https://github.com/Banno/jack-henry-design-system/discussions).